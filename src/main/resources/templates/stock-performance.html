<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Performance Heatmap</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <div class="col-md-12 row">
        <div class="col-md-2 d-inline-flex">
            <div class="select-item">
                <label for="cfdMargin">CFD Leverage</label>
                <div id="cfdMargin">
                    <button value="0.2" class="btn active">5x</button>
                    <button value="0.25" class="btn">4x</button>
                    <button value="0.33" class="btn">3x</button>
                    <button value="0.5" class="btn">2x</button>
                    <button value="0" class="btn">1x</button>
                    <input type="hidden" id="cfdMarginValues" name="cfdMargin" value="0.2">
                </div>
            </div>
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <label for="positivePerfFirst">Sort</label>
                    <input type="checkbox" id="positivePerfFirst" onchange="dispatchTimeFrameChangeEvent()" checked>
                </div>
            </div>
        </div>

        <div class="col-md-3 d-inline-flex">
            <div id="timeFrameGroup" class="time-frame-button-group">
                <button class="btn btn-primary" onclick="handleTimeFrameButtonClick('DAILY')">Daily</button>
                <button class="btn btn-primary" onclick="handleTimeFrameButtonClick('WEEKLY')">Weekly</button>
                <button class="btn btn-primary" onclick="handleTimeFrameButtonClick('MONTHLY')">Monthly</button>
                <button class="btn btn-primary" onclick="handleTimeFrameButtonClick('QUARTERLY')">Quarterly</button>
                <button class="btn btn-primary" onclick="handleTimeFrameButtonClick('YEARLY')">Yearly</button>
            </div>
        </div>

        <div class="col-md-7 d-inline-flex mt-2" id="stock-filters">
            <div>
                <div class="form-group">
                    <label for="intraday-spike" class="dropdown-label">Intraday Spike</label>
                    <select class="form-control" id="intraday-spike" onchange="dispatchTimeFrameChangeEvent()">
                        <option value="ANY">Any</option>
                        <option value="INTRADAY_SPIKE_UP" milestone-type="intraday-spike">Spike Up</option>
                        <option value="INTRADAY_SPIKE_DOWN" milestone-type="intraday-spike">Spike Down</option>
                    </select>
                </div>
                <div id="pre-market-dropdown" class="form-group">
                    <label for="pre-market" class="dropdown-label">Pre-market</label>
                    <select class="form-control" id="pre-market" onchange="dispatchTimeFrameChangeEvent()">
                        <option value="ANY">Any</option>
                        <option value="GAP_UP" milestone-type="pre-market">GAP UP</option>
                        <option value="GAP_DOWN" milestone-type="pre-market">GAP DOWN</option>
                        <option value="GAP_UP_10_PERCENT" milestone-type="pre-market">GAP UP 10%</option>
                        <option value="GAP_DOWN_10_PERCENT" milestone-type="pre-market">GAP DOWN 10%</option>
                        <option value="GAP_UP_AND_GO" milestone-type="pre-market">GAP UP & GO</option>
                        <option value="GAP_DOWN_AND_GO" milestone-type="pre-market">GAP DOWN & GO</option>
                        <option value="KICKING_CANDLE_UP" milestone-type="pre-market">KICKING CANDLE UP</option>
                        <option value="KICKING_CANDLE_DOWN" milestone-type="pre-market">KICKING CANDLE DOWN</option>
                        <option value="PRE_NEW_ALL_TIME_LOW" milestone-type="pre-market">PRE NEW ATL</option>
                        <option value="PRE_NEW_ALL_TIME_HIGH" milestone-type="pre-market">PRE NEW ATH</option>
                    </select>
                </div>
            </div>

            <div class="ml-2">
                <div class="form-group">
                    <label for="all-time" class="dropdown-label">All-Time High/Low</label>
                    <select class="form-control" id="all-time" onchange="dispatchTimeFrameChangeEvent()">
                        <option value="ANY">Any</option>
                        <option value="NEW_ALL_TIME_HIGH" milestone-type="new-hl">New High</option>
                        <option value="NEW_ALL_TIME_LOW" milestone-type="new-hl">New Low</option>
                        <option value="HIGH_ALL_TIME_95" milestone-type="all-time">0-5% below High</option>
                        <option value="LOW_ALL_TIME_95" milestone-type="all-time">0-5% above Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="sma-200" class="dropdown-label">200-Day SMA</label>
                    <select class="form-control" id="sma-200" onchange="dispatchTimeFrameChangeEvent()">
                        <option value="ANY">Any</option>
                        <option value="ABOVE_200_SMA" milestone-type="sma-200">Above</option>
                        <option value="BELOW_200_SMA" milestone-type="sma-200">Below</option>
                    </select>
                </div>
            </div>

            <div class="ml-2">
                <div class="form-group">
                    <label for="52-week" class="dropdown-label">52-Week High/Low</label>
                    <select class="form-control" id="52-week" onchange="dispatchTimeFrameChangeEvent()">
                        <option value="ANY">Any</option>
                        <option value="NEW_52W_HIGH" milestone-type="new-hl">New High</option>
                        <option value="NEW_52W_LOW" milestone-type="new-hl">New Low</option>
                        <option value="HIGH_52W_95" milestone-type="52-week">0-5% below High</option>
                        <option value="LOW_52W_95" milestone-type="52-week">0-5% above Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="sma-50" class="dropdown-label">50-Day SMA</label>
                    <select class="form-control" id="sma-50" onchange="dispatchTimeFrameChangeEvent()">
                        <option value="ANY">Any</option>
                        <option value="ABOVE_50_SMA" milestone-type="sma-50">Above</option>
                        <option value="BELOW_50_SMA" milestone-type="sma-50">Below</option>
                    </select>
                </div>
            </div>
            <div class="ml-2">
                <div class="form-group">
                    <label for="4-week" class="dropdown-label">4-Week High/Low</label>
                    <select class="form-control" id="4-week" onchange="dispatchTimeFrameChangeEvent()">
                        <option value="ANY">Any</option>
                        <option value="NEW_4W_HIGH" milestone-type="new-hl">New High</option>
                        <option value="NEW_4W_LOW" milestone-type="new-hl">New Low</option>
                        <option value="HIGH_4W_95" milestone-type="4-week">0-5% below High</option>
                        <option value="LOW_4W_95" milestone-type="4-week">0-5% above Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="candlestick-type" class="dropdown-label">Candlestick type</label>
                    <select class="form-control" id="candlestick-type" candlestick-type="candlestick" onchange="dispatchTimeFrameChangeEvent()">
                        <option value="ANY">Any</option>
                        <option value="DOJI">Doji</option>
                        <option value="GRAVESTONE_DOJI">Gravestone Doji</option>
                        <option value="DRAGONFLY_DOJI">Dragonfly Doji</option>
                        <option value="HAMMER">Hammer</option>
                        <option value="INVERTED_HAMMER">Inverted Hammer</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div id="heatmap-container"></div>
                <div id="ohlc-container"></div>
            </div>
        </div>
    </div>
<!--<script src="https://code.highcharts.com/stock/11.4.7/highstock.js"></script>-->
<script src="https://code.highcharts.com/stock/highstock.js"></script>
<script src="https://code.highcharts.com/modules/heatmap.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/stock/highcharts-more.js"></script>
<script src="https://code.highcharts.com/stock/indicators/indicators.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="../static/js/desktop-notification.js"></script>
<script src="../static/js/pre-market-poller.js"></script>
<script src="../static/js/stock-performance.js"></script>
<script src="../static/js/stock-graph.js"></script>
</body>
</html>